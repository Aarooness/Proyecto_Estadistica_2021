## Análisis del rendimiento estadístico de jugadores y campeones en LOL
 
---

### Integrantes (Código, Líder):

- Andre Brian Bejarano Oliveira              / 201820035 /    

- Viviana Maria Chacchi Guillen              / 201820039 /

- Jean Carlos Colmenares Vera Portocarrero   / 201820128 /

- Aaron Naif Gonzales Torres                 / 201820092 /

- Hector Alexis Retamozo Ccorahua            / 201820108 /  

--- 
=======================================================================================

1. Introducción

=======================================================================================

### Objetivo Principal

- Analizar las variables que mejor describen el comportamiento y rendimiento de los campeones y jugadores respectivamente.

### Objetivos Secundarios

1. Determinar la relación entre la variable "KDA" y el porcentaje de victorias.

2. Comprobar una relación existente entre el porcentaje de muertes de un jugador y el porcentaje de daño que realiza a los enemigos.

3. Encontrar la influencia de la variable "súbditos por minuto" en el porcentaje de daño realizado.

4. Corroborar si escoger un campeón del tipo "Support" determina un menor porcentaje de kills.



### Muestreo
La base de datos usada para este proyecto viene de algunos datos capturados previamente del campeonato de Europa de League of Legens 2019, el 
cual fue publicado por Stephen O'Farrel. 
En este caso se trabajara con 2 datas Frame. El primero es el "lec_championdata" el cual tiene como unidad muestral al campeón. 
El segundo viene a ser el "lec_playerdata" el cual tiene como unidad muestral a los jugadores agrupados por equipo.


Se cargan las librerías correspondientes 
```{r}
library(readr)
library(dplyr)
library(stringr)
library(data.table)
library(formattable)
```

### Variables más relevantes del estudio
championdata    WR5 ->"If you have a 12 team league, a WR1 would be a top 12 WR, a WR2 would be receivers 13-24, WR3 would be receivers 25-36, and so on. WR5 49-60"

```{r}
c1<-c("K","Pos","DMG%","Gold%","W%","<25 win percentage","40-45 win percentage")

c2<-c("Kills del usuario","Posición que tomo el jugador en el mapa","Porcentaje de daño que realizó el jugador en el torneo","Porcentaje de oro que recolectó el jugador","Porcentaje de victorias del jugador","Porcentaje de victorias para menos de 25 minutos","Porcentaje de victorias de entre 40 y 45 minutos")

c3 <-c("Player Data","Player Data","Player Data","Player Data","Player Data","Champion Data","Champion Data")


x<-data.table("Nombre_de_la_variable"=c1,"Descripción_de_la_Variable"=c2,"Origen"=c3)
formattable(x,align=c('c','c','c'))
```



### Modelos de variables aleatorias en el estudio

A continuación se adjunta una tabla con los modelos de variables aleatorias posibles para algunas de las variables de estudio:

```{r}
c1<-c("Kills del usuario","Posición que tomo el jugador en el mapa","Porcentaje de victorias del jugador","Porcentaje de victorias para menos de 25 minutos","Porcentaje de victorias de entre 40 y 45 minutos","CSPM","Gold%","KDA","DMG%","DTH%")


c2<-c("Bernoulli","Geométrica","Bernoulli","Bernoulli","Bernoulli","Discreta","Discreta","Discreta","Discreta","Discreta")

c3 <-c("Player Data","Player Data","Player Data","Champion Data","Champion Data","Player Data","Player Data","Player Data","Player Data","Player Data")


x<-data.table("Descripción_de_la _variable"=c1,"Modelo_escogido"=c2,"Origen"=c3)
formattable(x,align=c('c','c','c'))
```


Se asignan las bases de datos del "campeón" y del "jugador" a analizar a DF1 y DF2 respectivamente.

```{r}
DF1 <- read_csv("lec_championdata.csv")
DF1
```

```{r}
DF2 <- read_csv("lec_playerdata.csv")
DF2
```


=======================================================================================

2. Planteamiento de análisis e hipótesis

=======================================================================================

2.1 ¿Tener un alto KDA te garantiza un gran porcentaje de victorias? (Poner descriptores de variables, análisis , hipótesis)

- -Variable KDA-


```{r}
summary(DF2$KDA)
```
```{r}
boxplot(DF2$KDA, main = "Gráfica de KDA")
abline(h=mean(DF2$KDA),col="blue",lwd=1)
```
Análisis: La variable KDA determina el nivel de habilidad de cada jugador, esta no es mas que la suma de las kills y asistencias realizadas entre el número de muertes. Es lógico ver valores atípicos, extremadamente altos, debido a jugadores "genios" o a la gran diferencia de nivel entre equipos participantes.

(Colocar histograma con rangos)

- Planteamiento:

```{r}
DFadc<-which(DF2$Pos=="ADC")
DFtop<-which(DF2$Pos=="Top")
DFjg<-which(DF2$Pos=="Jungle")
DFmid<-which(DF2$Pos=="Middle")
DFsupp<-which(DF2$Pos=="Support")
```


```{r}
plot(DF2$KDA ~ DF2$`W%`, ylab='KDA', xlab='Porcentaje de victorias')
abline(h=mean(DF2[DFadc,]$KDA),col="brown")
abline(h=mean(DF2[DFsupp,]$KDA),col="green")
abline(h=mean(DF2[DFjg,]$KDA),col="purple")
abline(h=mean(DF2[DFmid,]$KDA),col="orange")
abline(h=mean(DF2[DFtop,]$KDA),col="lightcoral")
legend("topright", 
       c("ADC","Support","Jungla","Mid","Top"), 
       lty=1, 
       fill =c("brown","green","purple","orange","lightcoral"), 
       bty = "o", title="Leyenda",bg="transparent",cex=0.51)
```
 - Análisis: Relación proporcional entre el KDA y el porcentaje de victoria de los juegos, algo convenientemente lógico dado la ventaja que puede obtener un equipo de su rival.Sin una diferencia significativa de la media de KDA entre posiciones.

¿Si una posición tiene KDA alto, el jugador tiene más victorias?
```{r}
DF2 %>% filter(GP>=10)->DFGPok
DFPokadc<-which(DFGPok$Pos=="ADC")
DFPoktop<-which(DFGPok$Pos=="Top")
DFPokjg<-which(DFGPok$Pos=="Jungle")
DFPokmid<-which(DFGPok$Pos=="Middle")
DFPoksupp<-which(DFGPok$Pos=="Support")
```

```{r}
plot(DFGPok[DFPokadc,]$`KDA` ~ DFGPok[DFPokadc,]$`W%`,ylab="KDA",xlab="Porcentaje de Victorias Posición ADC")
abline(h=mean(DF2[DFadc,]$`KDA`),col="blue")
abline(v=mean(DF2[DFadc,]$`W%`),col="blue")
legend("topright", 
       c("Media KDA"), 
       lty=1, 
       fill =c("blue"), 
       bty = "o", title="Leyenda",bg="transparent",cex=0.51)
```
 - Hipótesis: El rol del ADC es hacer el mayor número de kills a los rivales. En la gráfica se evidencia que entre mayor sea su habilidad o KDA, mayor es el porcentaje de victorias del jugador y por tanto de su equipo. Podemos deducir entonces que la media de KDA del porcentaje de victorias ADC es menor a 4.5



2.2 ¿Existe una relación entre el porcentaje de muertes de un jugador y el porcentaje de    daño que realiza? 

- --Variable Porcentaje de muertes--

```{r}
summary(DF2$`DTH%`)
```

- --Variable Porcentaje de daño--

```{r}
summary(DF2$`DMG%`)
```
- Planteamiento

```{r}
plot(DF2[DFadc,]$`DMG%` ~ DF2[DFadc,]$`DTH%`,ylab="Porcentaje de daño",xlab="Porcentaje de Muertes") 
abline(h=mean(DF2[DFadc,]$`DMG%`),col="red")
abline(v=mean(DF2[DFadc,]$`DTH%`),col="red")
legend("topright", 
       c("Media"), 
       lty=1, 
       fill =c("red"), 
       bty = "o", title="Leyenda",bg="transparent",cex=0.51)
```
Análisis: De la gráfica no se puede concluir una relación directa entre el porcentaje de daño y de muertes. Como en la gráfica estamos incluyendo a todas las posiciones, los porcentajes de daños pueden ser muy alejados unas posiciones entre otras pero no ocurre de igual manera con las muertes.

Hipótesis: Se plantea entonces, que tener un porcentaje elevado del daño que aplicaste no significa haber tenido un pequeño porcentaje de muertes durante la partida.


2.3 ¿Hay una influencia en el porcentaje de daño realizado a mayor número de súbditos por minuto?

2.4 ¿Ser del tipo "Support" determina un bajo número de kills?

=======================================================================================

3. Intervalos de confianza

=======================================================================================

3.1 Intervalos de confianza para la media de KDA

3.2 Intervalos de confianza para la media de porcentaje de victorias 

3.3 Intervalos de confianza para la media de "súbditos por minuto"

3.4 Intervalos de confianza para la proporción de los jugadores de posición Support

3.5 Intervalos de confianza para la media porcentaje de muertes 

3.6 Intervalos de confianza para la media porcentaje de daño

=======================================================================================

4. Variables aleatorias

=======================================================================================

4.1 Variables aleatorias continuas

El porcentaje de victorias total se distribuye normalmente, independientemente de como se distribuyen los porcentajes de victorias individuales.

```{r}
summary(DF2$`W%`)
sdw<-sd(DF2$`W%`)
sdw
```

```{r}
hist(DF2$`W%`, freq = F,main = "Grafico de funcion de densidad", xlab = "Porcentaje de victorias")
curve(dnorm(x, mean = 47.67, sd = sdw), from = 0, to = 100, add = TRUE)
```


4.2 Variables aleatorias discretas


=======================================================================================

5. Prueba de hipotesis

=======================================================================================
